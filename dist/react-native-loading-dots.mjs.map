{"version":3,"file":"react-native-loading-dots.mjs","sources":["../src/react-native-loading-dots.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport { StyleSheet, Animated, Easing } from \"react-native\";\n\nconst defaultColors = [\n  \"#4dabf7\",\n  \"#3bc9db\",\n  \"#38d9a9\",\n  \"#69db7c\"\n];\n\nfunction LoadingDots({ dots = 4, colors = defaultColors }) {\n  const [animations, setAnimations] = useState([]);\n  const [reverse, setReverse] = useState(false);\n\n  const opacity = useRef(new Animated.Value(0)).current;\n\n  useEffect(() => {\n    const dotAnimations = [];\n    // eslint-disable-next-line no-plusplus\n    for (let i = 0; i < dots; i++) {\n      dotAnimations.push(new Animated.Value(0));\n    }\n    setAnimations(dotAnimations);\n  }, []);\n\n  useEffect(() => {\n    if (animations.length === 0) return;\n    loadingAnimation(animations, reverse);\n    appearAnimation();\n  }, [animations]);\n\n  function appearAnimation() {\n    Animated.timing(opacity, {\n      toValue: 1,\n      easing: Easing.ease,\n      useNativeDriver: true\n    }).start();\n  }\n\n  function floatAnimation(node, reverseY, delay) {\n    const floatSequence = Animated.sequence([\n      Animated.timing(node, {\n        toValue: reverseY ? 20 : -20,\n        easing: Easing.bezier(0.41, -0.15, 0.56, 1.21),\n        delay,\n        useNativeDriver: true\n      }),\n      Animated.timing(node, {\n        toValue: reverseY ? -20 : 20,\n        easing: Easing.bezier(0.41, -0.15, 0.56, 1.21),\n        delay,\n        useNativeDriver: true\n      }),\n      Animated.timing(node, {\n        toValue: 0,\n        delay,\n        useNativeDriver: true\n      })\n    ]);\n    return floatSequence;\n  }\n\n  function loadingAnimation(nodes, reverseY) {\n    Animated.parallel(\n      nodes.map((node, index) => floatAnimation(node, reverseY, index * 100))\n    ).start(() => {\n      setReverse(!reverse);\n    });\n  }\n\n  useEffect(() => {\n    if (animations.length === 0) return;\n    loadingAnimation(animations, reverse);\n  }, [reverse, animations]);\n\n  return (\n    <Animated.View style={[styles.loading, { opacity }]}>\n      {animations.map((animation, index) => (\n        <Animated.View\n          // eslint-disable-next-line react/no-array-index-key\n          key={`loading-anim-${index}`}\n          style={[\n            styles.dot,\n            { backgroundColor: colors[index] || \"#4dabf7\" },\n            { transform: [{ translateY: animation }] }\n          ]}\n        />\n      ))}\n    </Animated.View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  loading: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\"\n  },\n  dot: {\n    width: 20,\n    height: 20,\n    borderRadius: 10\n  }\n});\n\nexport default LoadingDots;\n"],"names":["const","defaultColors","styles","StyleSheet","create","loading","display","flexDirection","alignItems","justifyContent","dot","width","height","borderRadius","ref","useState","opacity","useRef","Animated","Value","current","loadingAnimation","nodes","reverseY","parallel","map","node","index","delay","sequence","timing","toValue","easing","Easing","bezier","useNativeDriver","floatAnimation","start","setReverse","reverse","useEffect","dotAnimations","i","dots","push","setAnimations","animations","length","ease","react","View","style","animation","backgroundColor","colors","transform","translateY"],"mappings":"gIAGAA,IAAMC,EAAgB,CACpB,UACA,UACA,UACA,WAqFIC,EAASC,EAAWC,OAAO,CAC/BC,QAAS,CACPC,QAAS,OACTC,cAAe,MACfC,WAAY,SACZC,eAAgB,iBAElBC,IAAK,CACHC,MAAO,GACPC,OAAQ,GACRC,aAAc,qBA5FlB,SAAqBC,+BAAS,iCAAYb,SACJc,EAAS,oBACfA,GAAS,iBAEjCC,EAAUC,EAAO,IAAIC,EAASC,MAAM,IAAIC,iBAgDrCC,EAAiBC,EAAOC,GAC/BL,EAASM,SACPF,EAAMG,aAAKC,EAAMC,mBAzBGD,EAAMH,EAAUK,UAChBV,EAASW,SAAS,CACtCX,EAASY,OAAOJ,EAAM,CACpBK,QAASR,EAAW,IAAM,GAC1BS,OAAQC,EAAOC,OAAO,KAAO,IAAM,IAAM,YACzCN,EACAO,iBAAiB,IAEnBjB,EAASY,OAAOJ,EAAM,CACpBK,QAASR,GAAY,GAAK,GAC1BS,OAAQC,EAAOC,OAAO,KAAO,IAAM,IAAM,YACzCN,EACAO,iBAAiB,IAEnBjB,EAASY,OAAOJ,EAAM,CACpBK,QAAS,QACTH,EACAO,iBAAiB,MAQQC,CAAeV,EAAMH,EAAkB,IAARI,MAC1DU,iBACAC,GAAYC,YAlDhBC,qBACQC,EAAgB,GAEbC,EAAI,EAAGA,EAAIC,EAAMD,IACxBD,EAAcG,KAAK,IAAI1B,EAASC,MAAM,IAExC0B,EAAcJ,IACb,IAEHD,aAC4B,IAAtBM,EAAWC,SACf1B,EAAiByB,EAAYP,GAK7BrB,EAASY,OAAOd,EAAS,CACvBe,QAAS,EACTC,OAAQC,EAAOe,KACfb,iBAAiB,IAChBE,UAPF,CAACS,IAyCJN,aAC4B,IAAtBM,EAAWC,QACf1B,EAAiByB,EAAYP,IAC5B,CAACA,EAASO,IAGXG,MAAC/B,EAASgC,MAAKC,MAAO,CAACjD,EAAOG,QAAS,SAAEW,KACtC8B,EAAWrB,aAAK2B,EAAWzB,UAC1BsB,MAAC/B,EAASgC,0BAEavB,EACrBwB,MAAO,CACLjD,EAAOQ,IACP,CAAE2C,gBAAiBC,EAAO3B,IAAU,WACpC,CAAE4B,UAAW,CAAC,CAAEC,WAAYJ"}